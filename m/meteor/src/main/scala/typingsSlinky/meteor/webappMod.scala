package typingsSlinky.meteor

import org.scalablytyped.runtime.StringDictionary
import typingsSlinky.connect.mod.Server
import typingsSlinky.meteor.anon.AbsolutePath
import typingsSlinky.meteor.anon.CordovaCompatibilityVersions
import typingsSlinky.meteor.anon.Major
import typingsSlinky.meteor.anon.Module
import typingsSlinky.node.httpMod.IncomingMessage
import typingsSlinky.node.httpMod.ServerResponse
import scala.scalajs.js
import scala.scalajs.js.`|`
import scala.scalajs.js.annotation.{JSGlobalScope, JSGlobal, JSImport, JSName, JSBracketAccess}

@JSImport("meteor/webapp", JSImport.Namespace)
@js.native
object webappMod extends js.Object {
  
  @js.native
  object WebApp extends js.Object {
    
    var connectApp: Server = js.native
    
    var connectHandlers: Server = js.native
    
    var defaultArch: String = js.native
    
    var httpServer: typingsSlinky.node.httpMod.Server = js.native
    
    def onListening(callback: js.Function): Unit = js.native
    
    var rawConnectHandlers: Server = js.native
    
    def suppressConnectErrors(): Unit = js.native
    
    @js.native
    object clientPrograms extends /* key */ StringDictionary[CordovaCompatibilityVersions]
  }
  
  @js.native
  object WebAppInternals extends js.Object {
    
    def addStaticJs(): Unit = js.native
    
    var additionalStaticJs: js.Any = js.native
    
    def generateBoilerplate(): Unit = js.native
    
    def generateBoilerplateInstance(arch: String, manifest: js.Any, additionalOptions: js.Any): js.Any = js.native
    
    def getBoilerplate(request: IncomingMessage, arch: String): String = js.native
    
    def identifyBrowser(userAgentString: String): Major = js.native
    
    def inlineScriptsAllowed(): Boolean = js.native
    
    def parsePort(port: String): Double = js.native
    
    def registerBoilerplateDataCallback(key: String, callback: js.Function): js.Function = js.native
    
    def reloadClientPrograms(): Unit = js.native
    
    def setBundledJsCssPrefix(bundledJsCssPrefix: String): Unit = js.native
    
    def setBundledJsCssUrlRewriteHook(hookFn: js.Function1[/* url */ String, String]): Unit = js.native
    
    def setInlineScriptsAllowed(inlineScriptsAllowed: Boolean): Unit = js.native
    
    var staticFiles: StaticFiles = js.native
    
    def staticFilesMiddleware(staticFiles: StaticFiles, req: IncomingMessage, res: ServerResponse, next: js.Function): Unit = js.native
    
    @js.native
    object NpmModules extends /* key */ StringDictionary[Module]
  }
  
  type StaticFiles = StringDictionary[AbsolutePath]
}
